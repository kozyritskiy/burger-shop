"use strict";!function(){var l=document.querySelector(".wrapper"),e=document.querySelector(".hamburger"),n=function(e){var n=document.createElement("div");n.innerHTML=e;var t=n.querySelector(".full-menu"),r=n.querySelector(".full-menu__close"),u=n.querySelector(".full-menu__list");return n=null,r.addEventListener("click",function(){l.removeChild(t)}),u.addEventListener("click",function(e){e.target.classList.contains("full-menu__link")&&l.removeChild(t)}),{open:function(){l.insertBefore(t,l.firstChild)}}}(document.querySelector("#fullMenu").innerHTML);e.addEventListener("click",function(){n.open(),initEvent()})}();
"use strict";var map=void 0;function initMap(){map=new google.maps.Map(document.getElementById("map"),{zoom:12,center:new google.maps.LatLng(59.937747,30.319899),mapTypeId:"roadmap"});var p={shop:{icon:"./img/markers/map-marker.svg"}};[{position:new google.maps.LatLng(59.939417,30.239682),type:"shop"},{position:new google.maps.LatLng(59.963922,30.302334),type:"shop"},{position:new google.maps.LatLng(59.903399,30.347748),type:"shop"}].forEach(function(o){new google.maps.Marker({position:o.position,icon:p[o.type].icon,map:map})})}
"use strict";!function(){function a(t){return new Promise(function(e){t&&e()})}document.querySelector(".smenu__list").addEventListener("click",function(e){if(e.preventDefault(),e.target.classList.contains("smenu__trigger")||e.target.classList.contains("smenu__title")){var t=e.target;"DIV"===t.tagName&&(t=t.parentNode);var i=t.parentNode,n=i.parentNode.children;if(i.classList.contains("smenu__item_active"))i.classList.remove("smenu__item_active"),a(window.matchMedia("(max-width: 480px)").matches).then(function(){for(var e=function(e){setTimeout(function(){n[e].classList.remove("visuallyhidden")},1e3)},t=0;t<n.length;t++)e(t)});else{for(var s=0;s<n.length;s++)n[s].classList.remove("smenu__item_active");i.classList.add("smenu__item_active"),a(window.matchMedia("(max-width: 480px)").matches).then(function(){for(var e=0;e<n.length;e++)n[e].classList.contains("smenu__item_active")||n[e].classList.add("visuallyhidden")})}}})}();
"use strict";var sections=$(".section"),display=$(".maincontent"),inscroll=!1,mobileDetect=new MobileDetect(window.navigator.userAgent),isMobile=mobileDetect.mobile();sections.filter(":first-child").addClass("active");var performTransition=function(e){if(!inscroll){inscroll=!0;var n=-100*e+"%";sections.eq(e).addClass("active").siblings().removeClass("active"),display.css({transform:"translateY("+n+")"}),setTimeout(function(){inscroll=!1,$(".nav-sidebar__item").eq(e).addClass("active-circle").siblings().removeClass("active-circle")},800)}},defineSections=function(e){var n=e.filter(".active");return{activeSection:n,nextSection:n.next(),prevSection:n.prev()}},scrollToSection=function(e){var n=defineSections(sections);inscroll||("up"===e&&n.nextSection.length&&performTransition(n.nextSection.index()),"down"===e&&n.prevSection.length&&performTransition(n.prevSection.index()))};function initEvent(){$("[data-number]").on("click",function(e){e.preventDefault(),performTransition(parseInt($(e.target).attr("data-number")))})}$(".wrapper").on({wheel:function(e){var n=e.originalEvent.deltaY;scrollToSection(0<n?"up":"down")},touchmove:function(e){return e.preventDefault()}}),isMobile&&$(window).swipe({swipe:function(e,n){scrollToSection(n)}}),$(document).on("keydown",function(e){var n=defineSections(sections);switch(e.keyCode){case 40:if(!n.nextSection.length)return;performTransition(n.nextSection.index());break;case 38:if(!n.prevSection.length)return;performTransition(n.prevSection.index())}}),initEvent();
"use strict";function submitForm(e){console.log("in submitForm"),e.preventDefault();var r=$(e.target),t=ajaxForm(r);t.done(function(e){var r=e.mes;overlay.messageSubmit.innerHTML=r}),t.fail(function(e,r){overlay.messageSubmit.innerHTML="Request failed: "+r}),overlay.open()}$("#order-form").on("submit",submitForm);var ajaxForm=function(e){var r=e.serialize(),t=e.attr("action"),a=e.attr("method");return $.ajax({type:a,url:t,dataType:"JSON",data:r})},delivery=document.querySelector(".delivery"),template=document.querySelector("#formMessage").innerHTML,overlay=createOverlay(template);function createOverlay(e){var r=document.createElement("div");r.innerHTML=e;var t=r.querySelector(".wrap-overlay"),a=r.querySelector(".overlay"),n=r.querySelector(".button_order-close"),o=r.querySelector(".message__submit");return r=null,t.addEventListener("click",function(e){e.target===a&&n.click()}),n.addEventListener("click",function(){delivery.removeChild(t)}),{messageSubmit:o,open:function(){delivery.insertBefore(t,delivery.firstChild)}}}
"use strict";!function(){var e=document.querySelector(".reviews__list"),c=document.querySelector(".reviews"),i=function(e){var t=document.createElement("div");t.innerHTML=e;var n=t.querySelector(".wrap-overlay"),r=t.querySelector(".overlay"),i=t.querySelector(".cross_message"),s=t.querySelector(".message__review"),a=t.querySelector(".message__name");return t=null,n.addEventListener("click",function(e){e.target===r&&i.click()}),i.addEventListener("click",function(){c.removeChild(n)}),{messageName:a,messageReview:s,open:function(){c.insertBefore(n,c.firstChild)}}}(document.querySelector("#overlayTemplate").innerHTML);e.addEventListener("click",function(e){if(e.preventDefault(),e.target.classList.contains("button_review")||e.target.classList.contains("button_mobile")){var t=e.target.parentNode.parentNode,n=t.firstElementChild.innerHTML,r=t.firstElementChild.nextElementSibling.innerHTML;i.messageName.innerHTML=n,i.messageReview.innerHTML=r,i.open()}})}();
"use strict";!function(){var e=document.querySelector(".burgers__list"),r=document.querySelector(".burgers").clientWidth,t=e.children.length,i=r*t,c=document.querySelector(".slider"),n=0,s=i-r;e.style.width=i+"px",e.style.right=n,c.addEventListener("click",function(t){t.preventDefault(),t.target.classList.contains("right-arrow__icon")?n<s&&(n+=r,e.style.right=n+"px"):t.target.classList.contains("left-arrow__icon")&&0<n&&(n-=r,e.style.right=n+"px")})}();
"use strict";var teamList=document.querySelector(".teammates__list");teamList.addEventListener("click",function(e){if(e.preventDefault(),e.target.classList.contains("teammate__name")){var t=e.target,a=t.parentNode,i=a.parentNode.children,s=t.nextElementSibling,m=s.firstElementChild.clientHeight;if(a.classList.contains("teammates__item_active"))a.classList.remove("teammates__item_active"),s.style.height=0;else{for(var l=0;l<i.length;l++)i[l].classList.remove("teammates__item_active"),i[l].lastElementChild.style.height=0;a.classList.add("teammates__item_active"),s.style.height=m+"px"}}});